#!/bin/bash

# pnpm autocannon -c 1 -a 5 \
# -H 'cookie:idToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImVvSmoxaGxCdWhZZFh0NmN5bTZtMyJ9.eyJodHRwczovL2xldGFuZC5iZS9yb2xlcyI6W10sImh0dHBzOi8vbGV0YW5kLmJlL2FwcE1ldGFkYXRhIjp7fSwibmlja25hbWUiOiJvcmcuZGVtbyIsIm5hbWUiOiJvcmcuZGVtb0BtYWlsdGhpbmsubmV0IiwicGljdHVyZSI6Imh0dHBzOi8vcy5ncmF2YXRhci5jb20vYXZhdGFyLzU3YzBjZjAzNmM2OGM4NGJhNzY4OTRiZGRhZGI0MzFjP3M9NDgwJnI9cGcmZD1odHRwcyUzQSUyRiUyRmNkbi5hdXRoMC5jb20lMkZhdmF0YXJzJTJGb3IucG5nIiwidXBkYXRlZF9hdCI6IjIwMjItMTAtMDRUMTQ6MzI6NTUuNDQ5WiIsImVtYWlsIjoib3JnLmRlbW9AbWFpbHRoaW5rLm5ldCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiaXNzIjoiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tLyIsInN1YiI6ImF1dGgwfDYyZTE0MzkyYTE0OWIyNzZkZDE3N2QzZiIsImF1ZCI6Ino2b3F5T3VQTGFvNlhoSmVDamU5dFo4WmJpSmE1emN0IiwiaWF0IjoxNjY0ODkzOTc2LCJleHAiOjE2NjQ5Mjk5NzYsInNpZCI6ImFvcVUxVm5KWU5GUFZNNWRIMUR3dEdmb1pXOXlnQ1RqIn0.IFkyeEo1wEbB_YAPepgt74q7FyVxz3_fG99DxRQkxFzRtoHWKOsJptvyxdpVvFQtZXNVlB2IxrZIK0RLntmnwqc_4Qbs5nVRMbWZSe_5n0ytwCyBt3Ew5cRFjfgbYiqE-5oS7ZLC97NU2Ye_WJxEeHUOBZuTAuIvY8qoqM_Ae-cJ-BzDs3Z-nMUfsNphz3EUWAt1jFV-3VhsyT_9lbJfU9IZlUWQW_UHcDSnN7T9bNZYphViz8goRX06rilzJfJb1-UN_pa9rOlqwOqn44T9TxBAdQ8OIZSCvZ4ORQLrKZ8CSaFWbXk3qLuJ6FmVF4Kp5jftBZgRaOn0Cmcnf_6ong; accessToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImVvSmoxaGxCdWhZZFh0NmN5bTZtMyJ9.eyJodHRwczovL2xldGFuZC5iZS9lbWFpbCI6Im9yZy5kZW1vQG1haWx0aGluay5uZXQiLCJodHRwczovL2xldGFuZC5iZS9yb2xlcyI6W10sImh0dHBzOi8vbGV0YW5kLmJlL2FwcE1ldGFkYXRhIjp7fSwiaXNzIjoiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tLyIsInN1YiI6ImF1dGgwfDYyZTE0MzkyYTE0OWIyNzZkZDE3N2QzZiIsImF1ZCI6WyJsZXRhbmQuYmUvYXBpIiwiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTY2NDg5Mzk3NiwiZXhwIjoxNjY0OTgwMzc2LCJhenAiOiJ6Nm9xeU91UExhbzZYaEplQ2plOXRaOFpiaUphNXpjdCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwifQ.RkNpamQdy5HrSNqghVNi7JzsRyk8X8GhQb33vSautF-tN1cA0gtE9l5wYOAwGZAobem2AdHoL6H-OYnsW7Pis5q1Vlp8P_B3hA037oLBBh2Tf-kaqxD1gBjRmnnsDEgdhjiyNhggAR4PGfKlz5zlN1ddLuajBH_Bbm5fSlmB2E3m3_WSGrYoxQnGctPmfm5x3FJ1th2r_EBbbQMuiilO0LI_ThOSVMJZ2QdgCpRT6_KgUSnIpdFLlYjbFQuhht2gDwqB1oUNIs-yicRVREsivzhsKwYVBVp7CkmcL17N-gsFjUyyVR1b3t026q5wheBT0cHS38OVqmX9lQV1hbsPXA; role=e82bdce2-03b6-40aa-9e00-0d95b55b772d' \
# http://localhost:3002/leaseInvoices?page=1&take=1000&sortOrder=desc&start=2022-04-01T00:00:00.000Z&end=2022-11-01T00:00:00.000Z&portfolioId=67c1d3d1-60dd-4da3-af79-a60bc033d1dc

# -a count
# -d duration
# -c concurrency

pnpm autocannon -c 5 -d 5 --debug \
-H 'Cookie: role=e82bdce2-03b6-40aa-9e00-0d95b55b772d; idToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImVvSmoxaGxCdWhZZFh0NmN5bTZtMyJ9.eyJodHRwczovL2xldGFuZC5iZS9yb2xlcyI6W10sImh0dHBzOi8vbGV0YW5kLmJlL2FwcE1ldGFkYXRhIjp7fSwibmlja25hbWUiOiJvcmcuZGVtbyIsIm5hbWUiOiJvcmcuZGVtb0BtYWlsdGhpbmsubmV0IiwicGljdHVyZSI6Imh0dHBzOi8vcy5ncmF2YXRhci5jb20vYXZhdGFyLzU3YzBjZjAzNmM2OGM4NGJhNzY4OTRiZGRhZGI0MzFjP3M9NDgwJnI9cGcmZD1odHRwcyUzQSUyRiUyRmNkbi5hdXRoMC5jb20lMkZhdmF0YXJzJTJGb3IucG5nIiwidXBkYXRlZF9hdCI6IjIwMjItMTAtMTdUMDQ6NDE6MjAuODQyWiIsImVtYWlsIjoib3JnLmRlbW9AbWFpbHRoaW5rLm5ldCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiaXNzIjoiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tLyIsInN1YiI6ImF1dGgwfDYyZTE0MzkyYTE0OWIyNzZkZDE3N2QzZiIsImF1ZCI6Ino2b3F5T3VQTGFvNlhoSmVDamU5dFo4WmJpSmE1emN0IiwiaWF0IjoxNjY1OTgxODA4LCJleHAiOjE2NjYwMTc4MDgsInNpZCI6IlM3X05hbG9uX1BxTjk4MVpkQ195ZnpBY2poNXFyR3FlIn0.iF7l9X291jN7vXx4_gVOFmb8lH36SGq8vuApaD7TJfOTYXPdZpqOAFuGlgR-_XDkMIv-dWbuQkRT0-lPvUk7j9hcGldKLi2LIwtrgpboX0g6B4AZCeuwxAElTZKmxT7nOfpxuxiwpHpyAy242II_41junOamIe6A6NMaSKrOGAcI_sjgRdk0gWz-KKPnqHDd0u3g2-XCEW_-gvGDIadYLoRHy2PxPmu0S_O4uNuizsm56CO79QipL0PAL0HerOkB_GBxDkVfd6-L8mnf8apXkLQmv8HJIDMhVic--XJHYzgJMYwkxZtbZcAqaoWU9avS5U2BAZd-2s24yVoYz2W_2w; accessToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImVvSmoxaGxCdWhZZFh0NmN5bTZtMyJ9.eyJodHRwczovL2xldGFuZC5iZS9lbWFpbCI6Im9yZy5kZW1vQG1haWx0aGluay5uZXQiLCJodHRwczovL2xldGFuZC5iZS9yb2xlcyI6W10sImh0dHBzOi8vbGV0YW5kLmJlL2FwcE1ldGFkYXRhIjp7fSwiaXNzIjoiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tLyIsInN1YiI6ImF1dGgwfDYyZTE0MzkyYTE0OWIyNzZkZDE3N2QzZiIsImF1ZCI6WyJsZXRhbmQuYmUvYXBpIiwiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTY2NTk4MTgwOCwiZXhwIjoxNjY2MDY4MjA4LCJhenAiOiJ6Nm9xeU91UExhbzZYaEplQ2plOXRaOFpiaUphNXpjdCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwifQ.HvGwD1Szp1wCEvsuuGSXFSaxW2PVOfFUFCIHuzBm3rRrEKI0cZKcAa225C2j5oKhgKOZ9SeZ-icsKrGsSVUtBufhrXw9EyhmBzpDT4CVAuhohfZfe877x4alSOFVt9myxA3CvqG2No4Cb1-oNXfc6k2ytVtR_9E7IhCXC1qG46mtN43951uMFsQ2DVSl24ci61A32bGbTh8tyDKCqP7n-B_2fVXElJXjYQQNALK1yWFyEOLZCWwsyPNILY3IBI9tQDQi58c5bCnxC67c-T9XIs4JsZTFDCOIFMq3nDLUd4zzmscPhehgQ7b5_EOf75bahq3yT6ihGnk6iOPSpVziQA' \
'http://localhost:3000/portfolios/d697bce6-8182-4962-84ea-0f741dc242b2/dashboard'


# curl 'http://localhost:3000/portfolios/d697bce6-8182-4962-84ea-0f741dc242b2/dashboard' \
# -H 'Cookie: role=e82bdce2-03b6-40aa-9e00-0d95b55b772d; idToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImVvSmoxaGxCdWhZZFh0NmN5bTZtMyJ9.eyJodHRwczovL2xldGFuZC5iZS9yb2xlcyI6W10sImh0dHBzOi8vbGV0YW5kLmJlL2FwcE1ldGFkYXRhIjp7fSwibmlja25hbWUiOiJvcmcuZGVtbyIsIm5hbWUiOiJvcmcuZGVtb0BtYWlsdGhpbmsubmV0IiwicGljdHVyZSI6Imh0dHBzOi8vcy5ncmF2YXRhci5jb20vYXZhdGFyLzU3YzBjZjAzNmM2OGM4NGJhNzY4OTRiZGRhZGI0MzFjP3M9NDgwJnI9cGcmZD1odHRwcyUzQSUyRiUyRmNkbi5hdXRoMC5jb20lMkZhdmF0YXJzJTJGb3IucG5nIiwidXBkYXRlZF9hdCI6IjIwMjItMTAtMTdUMDQ6NDE6MjAuODQyWiIsImVtYWlsIjoib3JnLmRlbW9AbWFpbHRoaW5rLm5ldCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiaXNzIjoiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tLyIsInN1YiI6ImF1dGgwfDYyZTE0MzkyYTE0OWIyNzZkZDE3N2QzZiIsImF1ZCI6Ino2b3F5T3VQTGFvNlhoSmVDamU5dFo4WmJpSmE1emN0IiwiaWF0IjoxNjY1OTgxODA4LCJleHAiOjE2NjYwMTc4MDgsInNpZCI6IlM3X05hbG9uX1BxTjk4MVpkQ195ZnpBY2poNXFyR3FlIn0.iF7l9X291jN7vXx4_gVOFmb8lH36SGq8vuApaD7TJfOTYXPdZpqOAFuGlgR-_XDkMIv-dWbuQkRT0-lPvUk7j9hcGldKLi2LIwtrgpboX0g6B4AZCeuwxAElTZKmxT7nOfpxuxiwpHpyAy242II_41junOamIe6A6NMaSKrOGAcI_sjgRdk0gWz-KKPnqHDd0u3g2-XCEW_-gvGDIadYLoRHy2PxPmu0S_O4uNuizsm56CO79QipL0PAL0HerOkB_GBxDkVfd6-L8mnf8apXkLQmv8HJIDMhVic--XJHYzgJMYwkxZtbZcAqaoWU9avS5U2BAZd-2s24yVoYz2W_2w; accessToken=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImVvSmoxaGxCdWhZZFh0NmN5bTZtMyJ9.eyJodHRwczovL2xldGFuZC5iZS9lbWFpbCI6Im9yZy5kZW1vQG1haWx0aGluay5uZXQiLCJodHRwczovL2xldGFuZC5iZS9yb2xlcyI6W10sImh0dHBzOi8vbGV0YW5kLmJlL2FwcE1ldGFkYXRhIjp7fSwiaXNzIjoiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tLyIsInN1YiI6ImF1dGgwfDYyZTE0MzkyYTE0OWIyNzZkZDE3N2QzZiIsImF1ZCI6WyJsZXRhbmQuYmUvYXBpIiwiaHR0cHM6Ly9kZXYtZWVodmhkcDIuZXUuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTY2NTk4MTgwOCwiZXhwIjoxNjY2MDY4MjA4LCJhenAiOiJ6Nm9xeU91UExhbzZYaEplQ2plOXRaOFpiaUphNXpjdCIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwifQ.HvGwD1Szp1wCEvsuuGSXFSaxW2PVOfFUFCIHuzBm3rRrEKI0cZKcAa225C2j5oKhgKOZ9SeZ-icsKrGsSVUtBufhrXw9EyhmBzpDT4CVAuhohfZfe877x4alSOFVt9myxA3CvqG2No4Cb1-oNXfc6k2ytVtR_9E7IhCXC1qG46mtN43951uMFsQ2DVSl24ci61A32bGbTh8tyDKCqP7n-B_2fVXElJXjYQQNALK1yWFyEOLZCWwsyPNILY3IBI9tQDQi58c5bCnxC67c-T9XIs4JsZTFDCOIFMq3nDLUd4zzmscPhehgQ7b5_EOf75bahq3yT6ihGnk6iOPSpVziQA'
