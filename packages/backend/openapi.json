{"openapi":"3.0.0","paths":{"/tenants":{"post":{"operationId":"TenantsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTenantDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]},"get":{"operationId":"TenantsController_findAll","parameters":[{"name":"page","required":false,"in":"query","int":true,"example":1,"schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","int":true,"example":1,"schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfTenantDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/TenantDto"}}}}]}}}}},"tags":["tenants"]}},"/tenants/{id}":{"get":{"operationId":"TenantsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]},"patch":{"operationId":"TenantsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTenantDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]},"delete":{"operationId":"TenantsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]}},"/portfolios":{"post":{"operationId":"PortfoliosController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePortfolioDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}},"get":{"operationId":"PortfoliosController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/portfolios/{id}":{"get":{"operationId":"PortfoliosController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}},"patch":{"operationId":"PortfoliosController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePortfolioDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}},"delete":{"operationId":"PortfoliosController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/users":{"post":{"operationId":"UsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"tags":["users"],"security":[{"oauth-swagger":["openid","profile","email"]}]},"get":{"operationId":"UsersController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfUserDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}]}}}}},"tags":["users"],"security":[{"oauth-swagger":["openid","profile","email"]}]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"404":{"description":"User not found"}},"tags":["users"],"security":[{"oauth-swagger":["openid","profile","email"]}]}}},"info":{"title":"Aqaratech API","description":"The Aqratech API description","version":"1.0","contact":{}},"tags":[{"name":"aqaratech","description":""}],"servers":[],"components":{"securitySchemes":{"oauth-swagger":{"type":"oauth2","flows":{"authorizationCode":{"authorizationUrl":"https://dev-eehvhdp2.eu.auth0.com/authorize","tokenUrl":"https://dev-eehvhdp2.eu.auth0.com/oauth/token","scopes":{"openid profile email":"default scope","openid":true}}},"scheme":"bearer"}},"schemas":{"CreateTenantDto":{"type":"object","properties":{"fullName":{"type":"string","example":"John Doe"},"shortName":{"type":"string","example":"JD"},"email":{"type":"string","example":"abc@example.com"},"phone":{"type":"string","example":"+96599212976"},"civilid":{"type":"string","example":"123456789012","minimum":12,"maximum":12},"dob":{"format":"date-time","type":"string"},"passportNum":{"type":"string"},"nationality":{"type":"string","example":"KWT"},"residencyNum":{"type":"string"},"residencyEnd":{"format":"date-time","type":"string"}},"required":["fullName"]},"TenantDto":{"type":"object","properties":{"id":{"type":"string"},"organizationId":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"fullName":{"type":"string"},"shortName":{"type":"string","nullable":true},"civilid":{"type":"string","nullable":true},"dob":{"format":"date-time","type":"string","nullable":true},"phone":{"type":"string","nullable":true},"email":{"type":"string","nullable":true},"passportNum":{"type":"string","nullable":true},"nationality":{"type":"string","nullable":true},"residencyNum":{"type":"string","nullable":true},"residencyEnd":{"format":"date-time","type":"string","nullable":true},"contactMethod":{"type":"string","nullable":true}},"required":["id","organizationId","createdAt","updatedAt","fullName","shortName","civilid","dob","phone","email","passportNum","nationality","residencyNum","residencyEnd","contactMethod"]},"PaginatedDto":{"type":"object","properties":{"page":{"type":"number"},"take":{"type":"number"},"itemCount":{"type":"number","description":"Total number of items in the collection"},"pageCount":{"type":"number"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"}},"required":["page","take","itemCount","pageCount","hasPreviousPage","hasNextPage"]},"PaginatedMetaDto":{"type":"object","properties":{"meta":{"$ref":"#/components/schemas/PaginatedDto"},"results":{"type":"array","items":{"type":"string"}}},"required":["meta","results"]},"UpdateTenantDto":{"type":"object","properties":{"fullName":{"type":"string","example":"John Doe"},"shortName":{"type":"string","example":"JD"},"email":{"type":"string","example":"abc@example.com"},"phone":{"type":"string","example":"+96599212976"},"civilid":{"type":"string","example":"123456789012","minimum":12,"maximum":12},"dob":{"format":"date-time","type":"string"},"passportNum":{"type":"string"},"nationality":{"type":"string","example":"KWT"},"residencyNum":{"type":"string"},"residencyEnd":{"format":"date-time","type":"string"}}},"CreatePortfolioDto":{"type":"object","properties":{}},"UpdatePortfolioDto":{"type":"object","properties":{}},"CreateUserDto":{"type":"object","properties":{}},"RoleDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"permissions":{"type":"object"},"userId":{"type":"string","nullable":true},"organizationId":{"type":"string","nullable":true},"portfolioId":{"type":"string","nullable":true},"tenantId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","permissions","userId","organizationId","portfolioId","tenantId"]},"UserDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"email":{"type":"string"},"fullName":{"type":"string","nullable":true},"roles":{"type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}},"required":["id","createdAt","updatedAt","email","fullName","roles"]}}}}