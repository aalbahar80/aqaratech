{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/profile":{"get":{"operationId":"AppController_getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/tenants":{"post":{"operationId":"TenantsController_create","parameters":[{"name":"x-role-id","in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]},"get":{"operationId":"TenantsController_findAll","parameters":[{"name":"page","required":false,"in":"query","example":4,"schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","example":4,"schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfTenantDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/TenantDto"}}}}]}}}}},"tags":["tenants"]}},"/tenants/{id}":{"get":{"operationId":"TenantsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]},"patch":{"operationId":"TenantsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTenantDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]},"delete":{"operationId":"TenantsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantDto"}}}}},"tags":["tenants"]}},"/portfolios":{"post":{"operationId":"PortfoliosController_create","parameters":[{"name":"x-role-id","in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioDto"}}}}},"tags":["portfolios"]},"get":{"operationId":"PortfoliosController_findAll","parameters":[{"name":"page","required":false,"in":"query","example":4,"schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","example":4,"schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfPortfolioDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/PortfolioDto"}}}}]}}}}},"tags":["portfolios"]}},"/portfolios/{id}":{"get":{"operationId":"PortfoliosController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioDto"}}}}},"tags":["portfolios"]},"patch":{"operationId":"PortfoliosController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePortfolioDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioDto"}}}}},"tags":["portfolios"]},"delete":{"operationId":"PortfoliosController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioDto"}}}}},"tags":["portfolios"]}},"/users":{"post":{"operationId":"UsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"tags":["users"]},"get":{"operationId":"UsersController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfUserDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}]}}}}},"tags":["users"]}},"/users/by-email":{"get":{"operationId":"UsersController_findOneByEmail","parameters":[{"name":"email","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"404":{"description":""}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"404":{"description":""}},"tags":["users"]}},"/properties":{"post":{"operationId":"PropertiesController_create","parameters":[{"name":"x-role-id","in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDto"}}}}},"tags":["properties"]},"get":{"operationId":"PropertiesController_findAll","parameters":[{"name":"page","required":false,"in":"query","example":4,"schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","example":4,"schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfPropertyDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/PropertyDto"}}}}]}}}}},"tags":["properties"]}},"/properties/{id}":{"get":{"operationId":"PropertiesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDto"}}}}},"tags":["properties"]},"patch":{"operationId":"PropertiesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePropertyDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDto"}}}}},"tags":["properties"]},"delete":{"operationId":"PropertiesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropertyDto"}}}}},"tags":["properties"]}},"/units":{"post":{"operationId":"UnitsController_create","parameters":[{"name":"x-role-id","in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnitDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnitDto"}}}}},"tags":["units"]},"get":{"operationId":"UnitsController_findAll","parameters":[{"name":"page","required":false,"in":"query","example":4,"schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","example":4,"schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfUnitDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/UnitDto"}}}}]}}}}},"tags":["units"]}},"/units/{id}":{"get":{"operationId":"UnitsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnitDto"}}}}},"tags":["units"]},"patch":{"operationId":"UnitsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUnitDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnitDto"}}}}},"tags":["units"]},"delete":{"operationId":"UnitsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnitDto"}}}}},"tags":["units"]}},"/leases":{"post":{"operationId":"LeasesController_create","parameters":[{"name":"x-role-id","in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaseDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaseDto"}}}}},"tags":["leases"]},"get":{"operationId":"LeasesController_findAll","parameters":[{"name":"page","required":false,"in":"query","example":4,"schema":{"minimum":1,"default":1,"type":"number"}},{"name":"take","required":false,"in":"query","example":4,"schema":{"minimum":1,"maximum":50,"default":10,"type":"number"}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfLeaseDto","allOf":[{"$ref":"#/components/schemas/PaginatedMetaDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/LeaseDto"}}}}]}}}}},"tags":["leases"]}},"/leases/{id}":{"get":{"operationId":"LeasesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaseDto"}}}}},"tags":["leases"]},"patch":{"operationId":"LeasesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLeaseDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaseDto"}}}}},"tags":["leases"]},"delete":{"operationId":"LeasesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaseDto"}}}}},"tags":["leases"]}}},"info":{"title":"Aqaratech API","description":"The Aqratech API description","version":"1.0","contact":{}},"tags":[{"name":"aqaratech","description":""}],"servers":[{"url":"http://localhost:3002"}],"components":{"securitySchemes":{"oauth-swagger":{"type":"oauth2","flows":{"authorizationCode":{"authorizationUrl":"https://dev-eehvhdp2.eu.auth0.com/authorize?audience=letand.be/api","tokenUrl":"https://dev-eehvhdp2.eu.auth0.com/oauth/token","scopes":{"openid profile email":"default scope","openid":"to indicate that the application intends to use OIDC to verify the user's identity","profile":"to get name, nickname, and picture","email":"to get email and email_verified"}}}}},"schemas":{"TenantDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"shortName":{"type":"string","nullable":true,"default":null},"civilid":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"dob":{"format":"date-time","type":"string","nullable":true,"default":null},"passportNum":{"type":"string","nullable":true,"default":null},"nationality":{"type":"string","nullable":true,"default":null},"residencyNum":{"type":"string","nullable":true,"default":null},"residencyEnd":{"format":"date-time","type":"string","nullable":true,"default":null},"fullName":{"type":"string","minLength":1,"maxLength":255}},"required":["id","createdAt","updatedAt","fullName"]},"PaginatedDto":{"type":"object","properties":{"page":{"type":"number"},"take":{"type":"number"},"itemCount":{"type":"number","description":"Total number of items in the collection"},"pageCount":{"type":"number"},"hasPreviousPage":{"type":"boolean"},"hasNextPage":{"type":"boolean"}},"required":["page","take","itemCount","pageCount","hasPreviousPage","hasNextPage"]},"PaginatedMetaDto":{"type":"object","properties":{"meta":{"$ref":"#/components/schemas/PaginatedDto"}},"required":["meta"]},"UpdateTenantDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"shortName":{"type":"string","nullable":true,"default":null},"civilid":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"dob":{"format":"date-time","type":"string","nullable":true,"default":null},"passportNum":{"type":"string","nullable":true,"default":null},"nationality":{"type":"string","nullable":true,"default":null},"residencyNum":{"type":"string","nullable":true,"default":null},"residencyEnd":{"format":"date-time","type":"string","nullable":true,"default":null},"fullName":{"type":"string","minLength":1,"maxLength":255}}},"PortfolioDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"shortName":{"type":"string","nullable":true,"default":null},"civilid":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"dob":{"format":"date-time","type":"string","nullable":true,"default":null},"fullName":{"type":"string","minLength":1,"maxLength":255}},"required":["id","createdAt","updatedAt","fullName"]},"UpdatePortfolioDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"shortName":{"type":"string","nullable":true,"default":null},"civilid":{"type":"string","nullable":true,"default":null},"phone":{"type":"string","nullable":true,"default":null},"email":{"type":"string","nullable":true,"default":null},"dob":{"format":"date-time","type":"string","nullable":true,"default":null},"fullName":{"type":"string","minLength":1,"maxLength":255}}},"RoleDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"permissions":{"type":"object"},"userId":{"type":"string","nullable":true},"organizationId":{"type":"string","nullable":true},"portfolioId":{"type":"string","nullable":true},"tenantId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","permissions","userId","organizationId","portfolioId","tenantId"]},"UserDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"fullName":{"type":"string","nullable":true,"default":null},"email":{"type":"string"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}},"required":["id","createdAt","updatedAt","email","roles"]},"PropertyDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"block":{"type":"string","nullable":true,"default":null},"avenue":{"type":"string","nullable":true,"default":null},"street":{"type":"string","nullable":true,"default":null},"number":{"type":"string","nullable":true,"default":null},"parcel":{"type":"string","nullable":true,"default":null},"paci":{"type":"string","nullable":true,"default":null},"cost":{"type":"number","nullable":true,"default":null},"portfolioId":{"type":"string"},"area":{"type":"string","nullable":true,"default":null,"minLength":1,"maxLength":255}},"required":["id","createdAt","updatedAt","portfolioId","area"]},"UpdatePropertyDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"block":{"type":"string","nullable":true,"default":null},"avenue":{"type":"string","nullable":true,"default":null},"street":{"type":"string","nullable":true,"default":null},"number":{"type":"string","nullable":true,"default":null},"parcel":{"type":"string","nullable":true,"default":null},"paci":{"type":"string","nullable":true,"default":null},"cost":{"type":"number","nullable":true,"default":null},"portfolioId":{"type":"string"},"area":{"type":"string","nullable":true,"default":null,"minLength":1,"maxLength":255}}},"UnitDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"floor":{"type":"number","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null,"minimum":1},"bed":{"type":"number","nullable":true,"default":null,"minimum":1},"bath":{"type":"number","nullable":true,"default":null,"minimum":1},"marketRent":{"type":"number","nullable":true,"default":null,"minimum":1},"type":{"type":"string","nullable":true,"default":null},"usage":{"type":"string","nullable":true,"default":null},"propertyId":{"type":"string"},"unitNumber":{"type":"string","minLength":1,"maxLength":255}},"required":["id","createdAt","updatedAt","propertyId","unitNumber"]},"UpdateUnitDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"floor":{"type":"number","nullable":true,"default":null},"size":{"type":"number","nullable":true,"default":null,"minimum":1},"bed":{"type":"number","nullable":true,"default":null,"minimum":1},"bath":{"type":"number","nullable":true,"default":null,"minimum":1},"marketRent":{"type":"number","nullable":true,"default":null,"minimum":1},"type":{"type":"string","nullable":true,"default":null},"usage":{"type":"string","nullable":true,"default":null},"unitNumber":{"type":"string","minLength":1,"maxLength":255}}},"LeaseDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"deposit":{"type":"number","default":0},"deactivated":{"type":"boolean","default":false},"notify":{"type":"boolean","default":true},"license":{"type":"string","nullable":true,"default":null},"tenantId":{"type":"string"},"unitId":{"type":"string"},"start":{"format":"date-time","type":"string"},"end":{"format":"date-time","type":"string"},"monthlyRent":{"type":"number","minimum":1}},"required":["id","createdAt","updatedAt","tenantId","unitId","start","end","monthlyRent"]},"UpdateLeaseDto":{"type":"object","properties":{"id":{"type":"string","readOnly":true},"createdAt":{"format":"date-time","type":"string","readOnly":true},"updatedAt":{"format":"date-time","type":"string","readOnly":true},"deposit":{"type":"number","default":0},"deactivated":{"type":"boolean","default":false},"notify":{"type":"boolean","default":true},"license":{"type":"string","nullable":true,"default":null},"start":{"format":"date-time","type":"string"},"end":{"format":"date-time","type":"string"},"monthlyRent":{"type":"number","minimum":1}}}}},"security":[{"oauth-swagger":[]}]}